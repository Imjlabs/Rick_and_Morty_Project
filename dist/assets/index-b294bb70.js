(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();function s({image:a,name:t,gender:n}){const o=document.createElement("div");o.setAttribute("class","card");const e=document.createElement("img");e.setAttribute("src",a);const r=document.createElement("h1");r.textContent=t;const c=document.createElement("p");return c.textContent=n,o.appendChild(e),o.appendChild(r),o.appendChild(c),o}function i(a){const n=document.querySelector("#allCard").content.cloneNode(!0);return a.forEach(o=>{n.appendChild(s(o))}),n}const l=async()=>(await(await fetch("https://rickandmortyapi.com/api/character")).json()).results,d=async a=>(await(await fetch(`https://rickandmortyapi.com/api/character/?name=${a}`)).json()).results,u=async()=>{const t=(await l()).map(n=>({image:n.image,name:n.name,gender:n.gender}));return i(t)};class p{constructor(t,n){this.rootElement=t,this.componentMapping=n}async openTabById(t){if(t in this.componentMapping){const{component:n,params:[...o]=[]}=this.componentMapping[t],e=await n(...o);this.rootElement.innerHTML="",this.rootElement.appendChild(e)}else console.error("ID non valide")}}const m=document.querySelector("#container"),h=new p(m,{characters:{component:u}});document.querySelectorAll("[data-tabId").forEach(a=>{a.addEventListener("input",async t=>{await d(t.target.value)})});h.openTabById("characters");
